<!--pages/mypurchase/mypurchase.wxml-->
<!--pages/collect/collect.wxml-->
<!-- 商品列表 -->
<view class="list" wx:for="{{list}}">
    <navigator class="list" url="/pages/details/details?id={{item._id}}&type=Merchandise" >
    <!-- 商品顶部内容 -->
    <view class = "top">
      <!-- 卖家信息，显示头像，昵称及上传时间 -->
      <view class = "writerInfo" >
        <image class="writerAvatar" src="{{item.writerAvatar}}" catchtap="turnToPersonalPage"></image>
        <view class="text">
          <text class="writer" catchtap="turnToPersonalPage">{{item.writerName}}</text>
          <text class="postTime">{{item.time}}</text>
        </view>
      </view>
    </view>
    <!-- 商品中部内容 -->
    <view class="content">
      <!-- 商品描述 -->
      <view class="description">
        <text>{{item.description}}</text>
      </view>
      <!-- 商品图片 -->
      <view class="merchandiseImage" wx:if="{{item.imageUrl.length != 0}}">
          <image src="{{item.imageUrl[0]}}" data-src="{{item.imageUrl[0]}}" catchtap="previewImage"></image>
      </view>
    </view>
    <!-- 商品底部内容 -->
    <view class="bottom">
      <!-- 商品价格 -->
      <view class = "price">
        <image src="../../image/icon/yuan.png" class="yuanIcon"></image>
        <text class="number">{{item.price}}</text>
      </view>
      <!-- 评论数量 -->
      <view class = "comment">
        <image src="../../image/icon/comment.png" class="commentIcon"></image>
        <text>{{item.comments.length?item.comments.length:0}}</text>
      </view>
      <!-- 收藏按钮 -->
      <view class="collect" data-types='{{Type}}' data-index="{{index}}" catchtap="collect" data-status="{{item.isCollected}}">
        <image class="collectIcon" wx:if="{{!item.isCollected}}" src="../../image/icon/collect.png"></image>
        <image class="collectIcon_actived" wx:else src="../../image/icon/collect_actived.png"></image>
        <text wx:if="{{!item.isCollected}}">{{item.collected.length}}</text>
        <text wx:else>{{item.collected.length+1}}</text>
      </view>
    </view>
    <view class="divLine" wx:if="{{index+1 < list.length}}"></view>
    </navigator>
  </view>
